{% extends 'base.html' %}

{% block title %}Create Post - BlogSpace{% endblock %}

{% block content %}
<div class="form-container">
    <div class="form-card">
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #6366f1, #ec4899); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 2.5rem; box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);">
                âœï¸
            </div>
        </div>
        <h1 class="form-title">Create New Post</h1>
        <p class="form-subtitle">Share your thoughts with the world</p>
        
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="form-group">
                <label class="form-label">ğŸ“ Title</label>
                <input type="text" name="title" class="form-input" placeholder="Enter your post title" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">ğŸ–¼ï¸ Featured Image</label>
                <div style="border: 2px dashed #e2e8f0; border-radius: 12px; padding: 1.5rem; text-align: center; background: #f8fafc; transition: all 0.3s ease;" 
                     onmouseover="this.style.borderColor='#6366f1'; this.style.background='#f1f5f9';"
                     onmouseout="this.style.borderColor='#e2e8f0'; this.style.background='#f8fafc';">
                    <input type="file" name="image" accept="image/*" id="id_image" style="display: none;" onchange="previewImage(event)">
                    <label for="id_image" style="cursor: pointer; display: block;">
                        <div id="image-preview" style="color: #64748b;">
                            <div style="font-size: 3rem; margin-bottom: 0.5rem;">ğŸ“·</div>
                            <p style="margin: 0;">Click to upload an image</p>
                            <p style="font-size: 0.875rem; margin-top: 0.5rem;">PNG, JPG, GIF up to 5MB</p>
                        </div>
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">ğŸ“„ Content</label>
                <textarea name="content" class="form-textarea" placeholder="Write your amazing content here..." required style="min-height: 200px;"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">ğŸ“Š Status</label>
                <select name="status" class="form-select">
                    <option value="draft">ğŸ“ Draft</option>
                    <option value="published">ğŸš€ Published</option>
                </select>
            </div>
            
            <button type="submit" class="btn btn-primary" style="
                background: linear-gradient(135deg, #6366f1, #4f46e5);
                padding: 1rem 2rem;
                font-size: 1.1rem;
                font-weight: 600;
                border-radius: 12px;
                width: 100%;
                margin-top: 0.5rem;
                box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
            ">
                <span style="margin-right: 8px;">ğŸš€</span> Publish Post
            </button>
        </form>
        
        <div style="text-align: center; margin-top: 1.5rem;">
            <a href="{% url 'post_list' %}" class="back-link">â† Back to all posts</a>
        </div>
    </div>
</div>

<script>
function previewImage(event) {
    const file = event.target.files[0];
    const preview = document.getElementById('image-preview');
    
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            preview.innerHTML = '<img src="' + e.target.result + '" style="max-width: 100%; max-height: 200px; border-radius: 8px; margin-bottom: 0.5rem;">';
        };
        reader.readAsDataURL(file);
    }
}
</script>
{% endblock %}

